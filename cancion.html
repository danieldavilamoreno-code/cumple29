<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Lo que vive en m√≠ ü§ç</title>

  <!-- Estilos globales -->
  <link rel="stylesheet" href="style.css">

  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">

  <!-- Estilos SOLO de esta p√°gina -->
  <style>
    #mensajeDia {
      color: #7a4a6a;
      font-size: 14px;
      margin-bottom: 15px;
      display: block;
      animation: aparecer 1.5s ease;
    }

    @keyframes aparecer {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>

  <div class="contenedor">
    <h1>Para ti ü§ç</h1>

    <p id="tipoDia"></p>
    <p id="mensajeDia"></p>

    <form onsubmit="enviarFormulario(event)">
      <div id="listaRecuerdos"></div>
      <input type="hidden" id="tipoHidden">

      <textarea id="textoRecuerdo" placeholder="Escribe aqu√≠ lo que quieras guardar‚Ä¶"></textarea>

      <button type="submit">Guardar</button>

      <button class="volver" onclick="window.location.href='index.html'">
        Volver a la p√°gina principal
      </button>
    </form>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const mensaje = document.getElementById("mensajeDia");
      const tipoTexto = document.getElementById("tipoDia");
      const tipoHidden = document.getElementById("tipoHidden");

      const inicio = new Date("2026-01-10");
      const hoy = new Date();
      const diff = Math.floor((hoy - inicio) / (1000 * 60 * 60 * 24));
      const dia = diff % 3;

      if (dia === 0) {
        tipoTexto.innerHTML = "üé∂ Hoy: una canci√≥n";
        mensaje.innerHTML = "Guarda una canci√≥n que te acompa√±e ü§ç";
        tipoHidden.value = "Canci√≥n";
      } else if (dia === 1) {
        tipoTexto.innerHTML = "ü§ç Hoy: una emoci√≥n";
        mensaje.innerHTML = "Ponle nombre a lo que sientes, sin juzgarlo.";
        tipoHidden.value = "Emoci√≥n";
      } else {
        tipoTexto.innerHTML = "üåô Hoy: un recuerdo";
        mensaje.innerHTML = "Conserva un recuerdo que te haga sonre√≠r.";
        tipoHidden.value = "Recuerdo";
      }
    });

  function mostrarRecuerdos() {
    const contenedor = document.getElementById("listaRecuerdos");
    contenedor.innerHTML = "";

    let recuerdos = JSON.parse(localStorage.getItem("recuerdos")) || [];

    recuerdos.forEach((texto, index) => {
      const item = document.createElement("div");
      item.style.display = "flex";
      item.style.alignItems = "center";
      item.style.justifyContent = "space-between";
      item.style.marginBottom = "8px";

      const p = document.createElement("p");
      p.textContent = "ü§ç " + texto;
      p.style.margin = "0";

      const btn = document.createElement("button");
      btn.textContent = "üóëÔ∏è";
      btn.style.width = "auto";
      btn.style.padding = "6px 10px";
      btn.style.fontSize = "12px";

      btn.onclick = function () {
        borrarRecuerdo(index);
      };

      item.appendChild(p);
      item.appendChild(btn);
      contenedor.appendChild(item);
    });
  }

  function borrarRecuerdo(index) {
    const confirmar = confirm("¬øSeguro que quieres borrar este recuerdo? ü§ç");

    if (!confirmar) return;

    let recuerdos = JSON.parse(localStorage.getItem("recuerdos")) || [];
    recuerdos.splice(index, 1);
    localStorage.setItem("recuerdos", JSON.stringify(recuerdos));

    mostrarRecuerdos();
  }

  function enviarFormulario(e) {
    e.preventDefault();

    const texto = document.getElementById("textoRecuerdo").value.trim();
    if (texto === "") return;

    let recuerdos = JSON.parse(localStorage.getItem("recuerdos")) || [];
    recuerdos.push(texto);
    localStorage.setItem("recuerdos", JSON.stringify(recuerdos));

    document.getElementById("textoRecuerdo").value = "";
    mostrarRecuerdos();
  }

  window.onload = mostrarRecuerdos;
  </script>

</body>
</html>
