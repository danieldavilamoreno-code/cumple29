<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Lo que vive en m√≠ ü§ç</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">

   <!-- Supabase CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body style="display:flex; justify-content:center; padding:40px 0;">
  <div class="contenedor">

    <script>
   const SUPABASE_URL = "https://vunamqmjquqqbjcuewfp.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ1bmFtcW1qcXVxcWJqY3Vld2ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgwNjAzMDksImV4cCI6MjA4MzYzNjMwOX0.Az5YzL_lMnaxjaR-o399mLeOctRincjK-SJGV9yHoOA";
const sb = window.supabase.createClient(
  SUPABASE_URL,
  SUPABASE_KEY
);
  async function guardar(tipo) {
    let texto = "";

    if (tipo === "cancion") {
      texto = document.getElementById("texto-cancion").value;
    }
    if (tipo === "recuerdo") {
      texto = document.getElementById("texto-recuerdo").value;
    }
    if (tipo === "emocion") {
      texto = document.getElementById("texto-emocion").value;
    }

    if (!texto.trim()) {
      alert("Escribe algo primero ü§ç");
      return;
    }

   const { error } = await sb
  .from("momentos")
  .insert([{
    tipo: tipo,
    contenido: texto,
    fecha: new Date().toISOString(),
    origen: "lo-que-vive-en-mi"
  }]);

    if (error) {
      alert("Algo pas√≥, pero lo intentamos juntos ü§ç");
      console.error(error);
    } else {
      alert("Guardado con cari√±o ü§ç");
    }
  }
</script>

      <h1>Lo que vive en m√≠</h1>
      <p>
        Este espacio es solo tuyo.  
        Puedes volver aqu√≠ cuando quieras ü§ç
      </p>

      <!-- üéµ CANCI√ìN -->
      <div class="bloque">
        <h2>üéµ Una canci√≥n</h2>
        <p>Una canci√≥n que te acompa√±e hoy.</p>
      </div>
    
   <textarea id="texto-cancion"></textarea>
  <button onclick="guardar('cancion')">Guardar</button>
    
      <!-- üïØÔ∏è RECUERDO -->
      <div class="bloque">
        <h2>üïØÔ∏è Un recuerdo</h2>
        <p>Algo que quieras guardar en palabras.</p>
        <textarea rows="3" placeholder="Escribe aqu√≠ tu recuerdo‚Ä¶"></textarea>
      </div>
    <button onclick="guardar('recuerdo')">Guardar</button>

      <!-- üí≠ EMOCI√ìN -->
      <div class="bloque">
        <h2>üí≠ C√≥mo te sientes</h2>
        <p>Sin pensar demasiado‚Ä¶ ¬øc√≥mo est√°s hoy?</p>
        <textarea rows="3" placeholder="Hoy me siento‚Ä¶"></textarea>
      </div>
    <button onclick="guardar('emocion')">Guardar</button>
    
    <a href="index.html" class="volver">‚Üê Volver</a>

  </div>
</body>
</html>
